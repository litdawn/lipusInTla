{"location":"line 1, col 1 to line 104, col 4 of module consensus_forall","moduleInfo":{"location":"line 1, col 1 to line 1, col 33 of module consensus_forall","moduleName":"consensus_forall"},"extends":{"extendedModuleNames":["TLC","Naturals","Randomization"],"location":"line 4, col 1 to line 4, col 36 of module consensus_forall"},"body":{"declaredParams":[{"location":"line 6, col 1 to line 6, col 26 of module consensus_forall","paramName":"Node"}],"definedVariables":[{"variableName":"vote_request_msg"},{"variableName":"voted"},{"variableName":"vote_msg"},{"variableName":"votes"},{"variableName":"leader"},{"variableName":"voting_quorum"},{"variableName":"decided"}],"location":"line 6, col 1 to line 102, col 31 of module consensus_forall","operatorDefinitions":[{"concreteContent":"vars == <<vote_request_msg,voted,vote_msg,votes,leader,voting_quorum,decided>>","location":"line 16, col 1 to line 16, col 78 of module consensus_forall","operatorName":"vars","type":"State"},{"concreteContent":"SendRequestVote(i,j) == \n    /\\ vote_request_msg' = vote_request_msg \\cup {<<i,j>>}\n    /\\ UNCHANGED <<voted, vote_msg, votes, leader, voting_quorum,decided>>\n","location":"line 18, col 1 to line 20, col 74 of module consensus_forall","operatorName":"SendRequestVote","paramNum":2,"type":"Action"},{"concreteContent":"SendVote(src,dst)==\n    /\\ ~voted[src]\n    /\\ <<dst,src>> \\in vote_request_msg\n    /\\ vote_msg' = vote_msg \\cup {<<src,dst>>}\n    /\\ voted' = [voted EXCEPT ![src] = TRUE]\n    /\\ UNCHANGED <<vote_request_msg, votes, leader, voting_quorum,decided>>\n","location":"line 22, col 1 to line 27, col 75 of module consensus_forall","operatorName":"SendVote","paramNum":2,"type":"Action"},{"concreteContent":"RecvVote(i,sender)==\n    /\\ <<sender,i>> \\in vote_msg\n    /\\ votes' = votes \\cup {<<i,sender>>}\n    /\\ UNCHANGED <<vote_request_msg, vote_msg, voted, leader, voting_quorum,decided>>\n","location":"line 29, col 1 to line 32, col 85 of module consensus_forall","operatorName":"RecvVote","paramNum":2,"type":"Action"},{"concreteContent":"ChooseVotingQuorum(i) ==\n    \\E Q \\in Quorum :\n    /\\ \\A v \\in Q : <<i,v>> \\in votes\n    /\\ voting_quorum' = Q\n    /\\ UNCHANGED <<vote_request_msg, vote_msg, votes, voted, leader,decided>>\n","location":"line 34, col 1 to line 38, col 77 of module consensus_forall","operatorName":"ChooseVotingQuorum","paramNum":1,"type":"Action"},{"concreteContent":"BecomeLeader(i) == \n    /\\ voting_quorum # {}\n    /\\ \\A v \\in voting_quorum : <<i,v>> \\in votes\n    /\\ leader' = [leader EXCEPT ![i] = TRUE]\n    /\\ UNCHANGED <<vote_request_msg, vote_msg, voted, votes, voting_quorum,decided>>\n","location":"line 40, col 1 to line 44, col 84 of module consensus_forall","operatorName":"BecomeLeader","paramNum":1,"type":"Action"},{"concreteContent":"Decide(i,v) ==\n    /\\ leader[i]\n    /\\ \\A vx \\in Value : <<i,vx>> \\notin decided\n    /\\ decided' = decided \\cup {<<i,v>>}\n    /\\ UNCHANGED <<vote_request_msg, vote_msg, voted, votes, leader, voting_quorum>>\n","location":"line 46, col 1 to line 50, col 84 of module consensus_forall","operatorName":"Decide","paramNum":2,"type":"Action"},{"concreteContent":"Init == \n    /\\ vote_request_msg = {}\n    /\\ voted = [s \\in Node |-> FALSE]\n    /\\ vote_msg = {}\n    /\\ votes = {}\n    /\\ leader = [s \\in Node |-> FALSE]\n    /\\ voting_quorum \\in Quorum\n    /\\ decided = {}\n","location":"line 52, col 1 to line 59, col 19 of module consensus_forall","operatorName":"Init","type":"State"},{"concreteContent":"SendRequestVoteAction == \\E i,j \\in Node : SendRequestVote(i,j)","location":"line 61, col 1 to line 61, col 63 of module consensus_forall","operatorName":"SendRequestVoteAction","type":"State"},{"concreteContent":"SendVoteAction == \\E i,j \\in Node : SendVote(i,j)","location":"line 62, col 1 to line 62, col 49 of module consensus_forall","operatorName":"SendVoteAction","type":"State"},{"concreteContent":"RecvVoteAction == \\E i,j \\in Node : RecvVote(i,j)","location":"line 63, col 1 to line 63, col 49 of module consensus_forall","operatorName":"RecvVoteAction","type":"State"},{"concreteContent":"ChooseVotingQuorumAction == \\E i \\in Node : ChooseVotingQuorum(i)","location":"line 64, col 1 to line 64, col 65 of module consensus_forall","operatorName":"ChooseVotingQuorumAction","type":"State"},{"concreteContent":"BecomeLeaderAction == \\E i \\in Node : BecomeLeader(i)","location":"line 65, col 1 to line 65, col 53 of module consensus_forall","operatorName":"BecomeLeaderAction","type":"State"},{"concreteContent":"DecideAction == \\E i \\in Node, v \\in Value : Decide(i, v)","location":"line 66, col 1 to line 66, col 57 of module consensus_forall","operatorName":"DecideAction","type":"State"},{"concreteContent":"Next == \n    \\/ SendRequestVoteAction\n    \\/ SendVoteAction\n    \\/ RecvVoteAction\n    \\/ ChooseVotingQuorumAction\n    \\/ BecomeLeaderAction\n    \\/ DecideAction\n","location":"line 68, col 1 to line 74, col 19 of module consensus_forall","operatorName":"Next","type":"State"},{"concreteContent":"TypeOK == \n    /\\ vote_request_msg \\in SUBSET (Node \\X Node)\n    /\\ voted \\in [Node -> BOOLEAN]\n    /\\ vote_msg \\in SUBSET (Node \\X Node)\n    /\\ votes \\in SUBSET (Node \\X Node)\n    /\\ leader \\in [Node -> BOOLEAN]\n    /\\ voting_quorum \\in Quorum\n    /\\ decided \\in SUBSET (Node \\X Value)\n","location":"line 76, col 1 to line 83, col 41 of module consensus_forall","operatorName":"TypeOK","type":"State"},{"concreteContent":"TypeOKRandom ==\n    /\\ vote_request_msg \\in RandomSubset(15, SUBSET (Node \\X Node))\n    /\\ voted \\in RandomSubset(5, [Node -> BOOLEAN])\n    /\\ vote_msg \\in RandomSubset(15, SUBSET (Node \\X Node))\n    /\\ votes \\in RandomSubset(15, SUBSET (Node \\X Node))\n    /\\ leader \\in RandomSubset(5, [Node -> BOOLEAN])\n    /\\ voting_quorum \\in RandomSubset(5, Quorum)\n    /\\ decided \\in RandomSubset(15, SUBSET (Node \\X Value))\n","location":"line 85, col 1 to line 92, col 59 of module consensus_forall","operatorName":"TypeOKRandom","type":"State"},{"concreteContent":"Safety == \n    \\A n1,n2 \\in Node : \\A v1,v2 \\in Value : \n        (<<n1,v1>> \\in decided /\\ <<n2,v2>> \\in decided) => (v1=v2)\n","location":"line 94, col 1 to line 96, col 67 of module consensus_forall","operatorName":"Safety","type":"State"},{"concreteContent":"NoLeader == ~\\E i \\in Node : leader[i]","location":"line 98, col 1 to line 98, col 38 of module consensus_forall","operatorName":"NoLeader","type":"State"},{"concreteContent":"Symmetry == Permutations(Node) \\cup Permutations(Value)","location":"line 100, col 1 to line 100, col 55 of module consensus_forall","operatorName":"Symmetry","type":"State"},{"concreteContent":"NextUnchanged == UNCHANGED vars","location":"line 102, col 1 to line 102, col 31 of module consensus_forall","operatorName":"NextUnchanged","type":"State"}]}}