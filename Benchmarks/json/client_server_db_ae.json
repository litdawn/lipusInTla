{"location":"line 1, col 1 to line 98, col 4 of module client_server_db_ae","moduleInfo":{"location":"line 1, col 1 to line 1, col 36 of module client_server_db_ae","moduleName":"client_server_db_ae"},"extends":{"extendedModuleNames":["TLC","Randomization"],"location":"line 4, col 1 to line 4, col 26 of module client_server_db_ae"},"body":{"declaredParams":[{"location":"line 6, col 1 to line 6, col 13 of module client_server_db_ae","paramName":"Node"},{"location":"line 7, col 1 to line 7, col 16 of module client_server_db_ae","paramName":"Request"},{"location":"line 8, col 1 to line 8, col 17 of module client_server_db_ae","paramName":"Response"},{"location":"line 9, col 1 to line 9, col 20 of module client_server_db_ae","paramName":"DbRequestId"}],"definedVariables":[{"variableName":"match"},{"variableName":"request_sent"},{"variableName":"response_sent"},{"variableName":"response_received"},{"variableName":"db_request_sent"},{"variableName":"db_response_sent"},{"variableName":"t"}],"location":"line 6, col 1 to line 96, col 30 of module client_server_db_ae","operatorDefinitions":[{"concreteContent":"vars == <<match,request_sent,response_sent,response_received,db_request_sent,db_response_sent,t>>","location":"line 22, col 1 to line 22, col 97 of module client_server_db_ae","operatorName":"vars","type":"State"},{"concreteContent":"NoneWithId(i) == \\A n \\in Node : <<i,n>> \\notin t","location":"line 24, col 1 to line 24, col 49 of module client_server_db_ae","operatorName":"NoneWithId","paramNum":1,"type":"Action"},{"concreteContent":"ResponseMatched(n,p) == \\E r \\in Request : (<<n,r>> \\in request_sent) /\\ <<r,p>> \\in match","location":"line 25, col 1 to line 25, col 90 of module client_server_db_ae","operatorName":"ResponseMatched","paramNum":2,"type":"Action"},{"concreteContent":"NewRequest(n, r) ==\n    /\\ request_sent' = request_sent \\cup {<<n,r>>}\n    /\\ UNCHANGED <<match,response_sent,response_received,db_request_sent,db_response_sent,t>>\n","location":"line 28, col 1 to line 30, col 93 of module client_server_db_ae","operatorName":"NewRequest","paramNum":2,"type":"Action"},{"concreteContent":"ServerProcessRequest(n,r,i) ==\n    /\\ <<n,r>> \\in request_sent\n    /\\ NoneWithId(i)\n    /\\ t' = t \\cup {<<i,n>>}\n    /\\ db_request_sent' = db_request_sent \\cup {<<i,r>>}\n    /\\ UNCHANGED <<match,request_sent,response_sent,response_received,db_response_sent>>\n","location":"line 32, col 1 to line 37, col 88 of module client_server_db_ae","operatorName":"ServerProcessRequest","paramNum":3,"type":"Action"},{"concreteContent":"DbProcessRequest(i,r,p) ==\n    /\\ <<i,r>> \\in db_request_sent\n    /\\ <<r,p>> \\in match\n    /\\ db_response_sent' = db_response_sent \\cup {<<i,p>>}\n    /\\ UNCHANGED <<match,request_sent,response_sent,response_received,db_request_sent,t>>\n","location":"line 39, col 1 to line 43, col 89 of module client_server_db_ae","operatorName":"DbProcessRequest","paramNum":3,"type":"Action"},{"concreteContent":"ServerProcessDbResponse(n,i,p) ==\n    /\\ <<i,p>> \\in db_response_sent\n    /\\ <<i,n>> \\in t\n    /\\ response_sent' = response_sent \\cup {<<n,p>>}\n    /\\ UNCHANGED <<match,request_sent,response_received,db_request_sent,db_response_sent,t>>\n","location":"line 45, col 1 to line 49, col 92 of module client_server_db_ae","operatorName":"ServerProcessDbResponse","paramNum":3,"type":"Action"},{"concreteContent":"ReceiveResponse(n,p) == \n    /\\ <<n,p>> \\in response_sent\n    /\\ response_received' = response_received \\cup {<<n,p>>}\n    /\\ UNCHANGED <<match,request_sent,response_sent,db_request_sent,db_response_sent,t>>\n","location":"line 51, col 1 to line 54, col 88 of module client_server_db_ae","operatorName":"ReceiveResponse","paramNum":2,"type":"Action"},{"concreteContent":"Next ==\n    \\/ \\E n \\in Node, r \\in Request : NewRequest(n,r)\n    \\/ \\E n \\in Node, r \\in Request, i \\in DbRequestId : ServerProcessRequest(n,r,i)\n    \\/ \\E r \\in Request, i \\in DbRequestId, p \\in Response : DbProcessRequest(i,r,p)\n    \\/ \\E n \\in Node, i \\in DbRequestId, p \\in Response : ServerProcessDbResponse(n,i,p)\n    \\/ \\E n \\in Node, p \\in Response : ReceiveResponse(n,p)\n","location":"line 56, col 1 to line 61, col 59 of module client_server_db_ae","operatorName":"Next","type":"State"},{"concreteContent":"Init == \n    /\\ match \\in SUBSET (Request \\X Response)\n    /\\ request_sent = {}\n    /\\ response_sent = {}\n    /\\ response_received = {}\n    /\\ db_request_sent = {}\n    /\\ db_response_sent = {}\n    /\\ t = {}\n","location":"line 63, col 1 to line 70, col 13 of module client_server_db_ae","operatorName":"Init","type":"State"},{"concreteContent":"TypeOK ==\n    /\\ match \\in SUBSET (Request \\X Response)\n    /\\ request_sent \\in SUBSET (Node \\X Request)\n    /\\ response_sent \\in SUBSET (Node \\X Response)\n    /\\ response_received \\in SUBSET (Node \\X Response)\n    /\\ db_request_sent \\in SUBSET (DbRequestId \\X Request)\n    /\\ db_response_sent \\in SUBSET (DbRequestId \\X Response)\n    /\\ t \\in SUBSET (DbRequestId \\X Node)\n","location":"line 72, col 1 to line 79, col 41 of module client_server_db_ae","operatorName":"TypeOK","type":"State"},{"concreteContent":"TypeOKRandom ==\n    /\\ match \\in RandomSubset(20, SUBSET (Request \\X Response))\n    /\\ request_sent \\in RandomSubset(10, SUBSET (Node \\X Request))\n    /\\ response_sent \\in RandomSubset(10, SUBSET (Node \\X Response))\n    /\\ response_received \\in RandomSubset(10, SUBSET (Node \\X Response))\n    /\\ db_request_sent \\in RandomSubset(10, SUBSET (DbRequestId \\X Request))\n    /\\ db_response_sent \\in RandomSetOfSubsets(10, 4, (DbRequestId \\X Response))\n    /\\ t \\in RandomSetOfSubsets(10, 5, (DbRequestId \\X Node))\n","location":"line 81, col 1 to line 88, col 61 of module client_server_db_ae","operatorName":"TypeOKRandom","type":"State"},{"concreteContent":"Safety == \\A n \\in Node, p \\in Response : (<<n,p>> \\in response_received) => ResponseMatched(n,p)","location":"line 90, col 1 to line 90, col 97 of module client_server_db_ae","operatorName":"Safety","type":"State"},{"concreteContent":"Symmetry == Permutations(Node) \\cup Permutations(Request) \\cup Permutations(Response) \\cup Permutations(DbRequestId)","location":"line 92, col 1 to line 92, col 116 of module client_server_db_ae","operatorName":"Symmetry","type":"State"},{"concreteContent":"NextUnchanged == UNCHANGED vars","location":"line 94, col 1 to line 94, col 31 of module client_server_db_ae","operatorName":"NextUnchanged","type":"State"},{"concreteContent":"Test == response_received = {}","location":"line 96, col 1 to line 96, col 30 of module client_server_db_ae","operatorName":"Test","type":"State"}]}}