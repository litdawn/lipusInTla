{"location":"line 1, col 1 to line 108, col 4 of module two_phase_commit","moduleInfo":{"location":"line 1, col 1 to line 1, col 33 of module two_phase_commit","moduleName":"two_phase_commit"},"extends":{"extendedModuleNames":["TLC"],"location":"line 4, col 1 to line 4, col 11 of module two_phase_commit"},"body":{"declaredParams":[{"location":"line 6, col 1 to line 6, col 13 of module two_phase_commit","paramName":"Node"}],"definedVariables":[{"variableName":"vote_yes"},{"variableName":"vote_no"},{"variableName":"alive"},{"variableName":"go_commit"},{"variableName":"go_abort"},{"variableName":"decide_commit"},{"variableName":"decide_abort"},{"variableName":"abort_flag"}],"location":"line 6, col 1 to line 106, col 30 of module two_phase_commit","operatorDefinitions":[{"concreteContent":"vars == <<vote_yes,vote_no,alive,go_commit,go_abort,decide_commit,decide_abort,abort_flag>>","location":"line 18, col 1 to line 18, col 91 of module two_phase_commit","operatorName":"vars","type":"State"},{"concreteContent":"Vote1(n) ==\n    /\\ n \\in alive\n    /\\ n \\notin vote_no\n    /\\ n \\notin decide_commit\n    /\\ n \\notin decide_abort\n    /\\ vote_yes' = vote_yes \\cup {n}\n    /\\ UNCHANGED <<vote_no,alive,go_commit,go_abort,decide_commit,decide_abort,abort_flag>>\n","location":"line 20, col 1 to line 26, col 91 of module two_phase_commit","operatorName":"Vote1","paramNum":1,"type":"Action"},{"concreteContent":"Vote2(n) ==\n    /\\ n \\in alive\n    /\\ n \\notin vote_yes\n    /\\ n \\notin decide_commit\n    /\\ n \\notin decide_abort\n    /\\ vote_no' = vote_no \\cup {n}\n    /\\ abort_flag' = TRUE\n    /\\ decide_abort' = decide_abort \\cup {n}\n    /\\ UNCHANGED <<vote_yes,alive,go_commit,go_abort,decide_commit>>\n","location":"line 28, col 1 to line 36, col 68 of module two_phase_commit","operatorName":"Vote2","paramNum":1,"type":"Action"},{"concreteContent":"Fail(n) ==\n    /\\ n \\in alive\n    /\\ alive' = alive \\ {n}\n    /\\ abort_flag' = TRUE\n    /\\ UNCHANGED <<vote_yes,vote_no,go_commit,go_abort,decide_commit,decide_abort>>\n","location":"line 38, col 1 to line 42, col 83 of module two_phase_commit","operatorName":"Fail","paramNum":1,"type":"Action"},{"concreteContent":"Go1 ==\n    /\\ \\A n \\in Node : n \\notin go_commit\n    /\\ \\A n \\in Node : n \\notin go_abort\n    /\\ \\A n \\in Node : n \\in vote_yes\n    /\\ go_commit' = Node\n    /\\ UNCHANGED <<vote_yes,vote_no,alive,go_abort,decide_commit,decide_abort,abort_flag>>\n","location":"line 44, col 1 to line 49, col 90 of module two_phase_commit","operatorName":"Go1","type":"State"},{"concreteContent":"Go2 ==\n    /\\ \\A n \\in Node : n \\notin go_commit\n    /\\ \\A n \\in Node : n \\notin go_abort\n    /\\ \\E n \\in Node : (n \\in vote_no) \\/ (n \\notin alive)\n    /\\ go_abort' = Node\n    /\\ UNCHANGED <<vote_yes,vote_no,alive,go_commit,decide_commit,decide_abort,abort_flag>>\n","location":"line 51, col 1 to line 56, col 91 of module two_phase_commit","operatorName":"Go2","type":"State"},{"concreteContent":"Commit(n) ==\n    /\\ n \\in alive\n    /\\ n \\in go_commit\n    /\\ decide_commit' = decide_commit \\cup {n}\n    /\\ UNCHANGED <<vote_yes,vote_no,alive,go_commit,go_abort,decide_abort,abort_flag>>\n","location":"line 58, col 1 to line 62, col 86 of module two_phase_commit","operatorName":"Commit","paramNum":1,"type":"Action"},{"concreteContent":"Abort(n) ==\n    /\\ n \\in alive\n    /\\ n \\in go_abort\n    /\\ decide_abort' = decide_abort \\cup {n}\n    /\\ UNCHANGED <<vote_yes,vote_no,alive,go_commit,go_abort,decide_commit,abort_flag>>\n","location":"line 64, col 1 to line 68, col 87 of module two_phase_commit","operatorName":"Abort","paramNum":1,"type":"Action"},{"concreteContent":"Next ==\n    \\/ \\E n \\in Node : Vote1(n)\n    \\/ \\E n \\in Node : Vote2(n)\n    \\/ \\E n \\in Node : Fail(n)\n    \\/ Go1\n    \\/ Go2\n    \\/ \\E n \\in Node : Commit(n)\n    \\/ \\E n \\in Node : Abort(n)\n","location":"line 70, col 1 to line 77, col 31 of module two_phase_commit","operatorName":"Next","type":"State"},{"concreteContent":"Init == \n    /\\ vote_yes = {}\n    /\\ vote_no = {}\n    /\\ alive = Node\n    /\\ go_commit = {}\n    /\\ go_abort = {}\n    /\\ decide_commit = {}\n    /\\ decide_abort = {}\n    /\\ abort_flag = FALSE\n","location":"line 79, col 1 to line 87, col 25 of module two_phase_commit","operatorName":"Init","type":"State"},{"concreteContent":"NextUnchanged == UNCHANGED vars","location":"line 89, col 1 to line 89, col 31 of module two_phase_commit","operatorName":"NextUnchanged","type":"State"},{"concreteContent":"TypeOK ==\n    /\\ vote_yes \\in SUBSET Node\n    /\\ vote_no \\in SUBSET Node\n    /\\ alive \\in SUBSET Node\n    /\\ go_commit \\in SUBSET Node\n    /\\ go_abort \\in SUBSET Node\n    /\\ decide_commit \\in SUBSET Node\n    /\\ decide_abort \\in SUBSET Node\n    /\\ abort_flag \\in BOOLEAN\n","location":"line 91, col 1 to line 99, col 29 of module two_phase_commit","operatorName":"TypeOK","type":"State"},{"concreteContent":"Safety == \n    /\\ \\A n,n2 \\in Node : (n \\in decide_commit) => (n2 \\notin decide_abort) \n    /\\ \\A n,n2 \\in Node : (n \\in decide_commit) => (n2 \\in vote_yes)\n    /\\ \\A n,n2 \\in Node : (n \\in decide_abort) => abort_flag\n","location":"line 101, col 1 to line 104, col 60 of module two_phase_commit","operatorName":"Safety","type":"State"},{"concreteContent":"Symmetry == Permutations(Node)","location":"line 106, col 1 to line 106, col 30 of module two_phase_commit","operatorName":"Symmetry","type":"State"}]}}