{"location":"line 1, col 1 to line 50, col 4 of module toy_consensus","moduleInfo":{"location":"line 1, col 1 to line 1, col 30 of module toy_consensus","moduleName":"toy_consensus"},"extends":{"extendedModuleNames":["TLC","FiniteSets","Naturals"],"location":"line 4, col 1 to line 4, col 33 of module toy_consensus"},"body":{"declaredParams":[{"location":"line 6, col 1 to line 6, col 13 of module toy_consensus","paramName":"Node"},{"location":"line 7, col 1 to line 7, col 14 of module toy_consensus","paramName":"Value"},{"location":"line 8, col 1 to line 8, col 12 of module toy_consensus","paramName":"Nil"}],"definedVariables":[{"variableName":"vote"},{"variableName":"decision"}],"location":"line 6, col 1 to line 48, col 55 of module toy_consensus","operatorDefinitions":[{"concreteContent":"vars == <<vote,decision>>","location":"line 13, col 1 to line 13, col 25 of module toy_consensus","operatorName":"vars","type":"State"},{"concreteContent":"Quorums == {i \\in SUBSET(Node) : Cardinality(i) * 2 > Cardinality(Node)}","location":"line 15, col 1 to line 15, col 72 of module toy_consensus","operatorName":"Quorums","type":"State"},{"concreteContent":"ChosenAt(v, Q) == \\A m \\in Q : vote[m] = v","location":"line 17, col 1 to line 17, col 42 of module toy_consensus","operatorName":"ChosenAt","paramNum":2,"type":"Action"},{"concreteContent":"CastVote(i, v) ==\n    /\\ vote[i] = Nil\n    /\\ vote' = [vote EXCEPT ![i] = v]\n    /\\ UNCHANGED decision\n","location":"line 20, col 1 to line 23, col 25 of module toy_consensus","operatorName":"CastVote","paramNum":2,"type":"Action"},{"concreteContent":"Decide(v, Q) ==\n    /\\ ChosenAt(v, Q)\n    /\\ decision' = decision \\cup {v}\n    /\\ UNCHANGED vote\n","location":"line 26, col 1 to line 29, col 21 of module toy_consensus","operatorName":"Decide","paramNum":2,"type":"Action"},{"concreteContent":"Init == \n    /\\ vote = [n \\in Node |-> Nil]\n    /\\ decision = {}\n","location":"line 31, col 1 to line 33, col 20 of module toy_consensus","operatorName":"Init","type":"State"},{"concreteContent":"Next == \n    \\/ \\E i \\in Node, v \\in Value : CastVote(i, v)\n    \\/ \\E v \\in Value, Q \\in Quorums : Decide(v, Q)\n","location":"line 35, col 1 to line 37, col 51 of module toy_consensus","operatorName":"Next","type":"State"},{"concreteContent":"TypeOK == \n    /\\ vote \\in [Node -> Value \\cup {Nil}]\n    /\\ decision \\in SUBSET Value\n","location":"line 39, col 1 to line 41, col 32 of module toy_consensus","operatorName":"TypeOK","type":"State"},{"concreteContent":"NextUnchanged == UNCHANGED vars","location":"line 43, col 1 to line 43, col 31 of module toy_consensus","operatorName":"NextUnchanged","type":"State"},{"concreteContent":"Inv == \\A vi, vj \\in decision : vi = vj","location":"line 46, col 1 to line 46, col 39 of module toy_consensus","operatorName":"Inv","type":"State"},{"concreteContent":"Symmetry == Permutations(Node) \\cup Permutations(Value)","location":"line 48, col 1 to line 48, col 55 of module toy_consensus","operatorName":"Symmetry","type":"State"}]}}