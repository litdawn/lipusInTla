{"location":"line 1, col 1 to line 130, col 4 of module consensus_wo_decide","moduleInfo":{"location":"line 1, col 1 to line 1, col 36 of module consensus_wo_decide","moduleName":"consensus_wo_decide"},"extends":{"extendedModuleNames":["TLC","Randomization"],"location":"line 4, col 1 to line 4, col 26 of module consensus_wo_decide"},"body":{"declaredParams":[{"location":"line 6, col 1 to line 6, col 13 of module consensus_wo_decide","paramName":"Node"},{"location":"line 7, col 1 to line 7, col 16 of module consensus_wo_decide","paramName":"Quorums"}],"definedVariables":[{"variableName":"vote_request_msg"},{"variableName":"voted"},{"variableName":"vote_msg"},{"variableName":"votes"},{"variableName":"leader"},{"variableName":"voting_quorum"}],"location":"line 6, col 1 to line 128, col 10 of module consensus_wo_decide","operatorDefinitions":[{"concreteContent":"SendRequestVote(i,j) == \n    /\\ vote_request_msg' = [vote_request_msg EXCEPT ![<<i,j>>] = TRUE]\n    /\\ UNCHANGED <<voted, vote_msg, votes, leader, voting_quorum>>\n","location":"line 30, col 1 to line 32, col 66 of module consensus_wo_decide","operatorName":"SendRequestVote","paramNum":2,"type":"Action"},{"concreteContent":"SendVote(src,dst)==\n    /\\ ~voted[src]\n    /\\ vote_request_msg[<<dst,src>>]\n    /\\ vote_msg' = [vote_msg EXCEPT ![<<src,dst>>] = TRUE]\n    /\\ voted' = [voted EXCEPT ![src] = TRUE]\n    /\\ UNCHANGED <<vote_request_msg, votes, leader, voting_quorum>>\n","location":"line 34, col 1 to line 39, col 67 of module consensus_wo_decide","operatorName":"SendVote","paramNum":2,"type":"Action"},{"concreteContent":"RecvVote(i,sender)==\n    /\\ vote_msg[<<sender,i>>]\n    /\\ votes' = [votes EXCEPT ![<<i,sender>>] = TRUE]\n    /\\ UNCHANGED <<vote_request_msg, vote_msg, voted, leader, voting_quorum>>\n","location":"line 41, col 1 to line 44, col 77 of module consensus_wo_decide","operatorName":"RecvVote","paramNum":2,"type":"Action"},{"concreteContent":"ChooseVotingQuorum(i) ==\n    \\E Q \\in Quorums :\n    /\\ \\A v \\in Q : votes[<<i,v>>]\n    /\\ voting_quorum' = Q\n    /\\ UNCHANGED <<vote_request_msg, vote_msg, votes, voted, leader>>\n","location":"line 46, col 1 to line 50, col 69 of module consensus_wo_decide","operatorName":"ChooseVotingQuorum","paramNum":1,"type":"Action"},{"concreteContent":"BecomeLeader(i) == \n    /\\ voting_quorum # {}\n    /\\ \\A v \\in voting_quorum : votes[<<i,v>>]\n    /\\ leader' = [leader EXCEPT ![i] = TRUE]\n    /\\ UNCHANGED <<vote_request_msg, vote_msg, voted, votes, voting_quorum>>\n","location":"line 52, col 1 to line 56, col 76 of module consensus_wo_decide","operatorName":"BecomeLeader","paramNum":1,"type":"Action"},{"concreteContent":"Init == \n    /\\ vote_request_msg = [s \\in Node \\X Node |-> FALSE]\n    /\\ voted = [s \\in Node |-> FALSE]\n    /\\ vote_msg = [s \\in Node \\X Node |-> FALSE]\n    /\\ votes = [s \\in Node \\X Node |-> FALSE]\n    /\\ leader = [s \\in Node |-> FALSE]\n    /\\ voting_quorum \\in Quorums\n","location":"line 58, col 1 to line 64, col 32 of module consensus_wo_decide","operatorName":"Init","type":"State"},{"concreteContent":"Next == \n    \\/ \\E i,j \\in Node : SendRequestVote(i,j)\n    \\/ \\E i,j \\in Node : SendVote(i,j)\n    \\/ \\E i,j \\in Node : RecvVote(i,j)\n    \\/ \\E i \\in Node : ChooseVotingQuorum(i)\n    \\/ \\E i \\in Node : BecomeLeader(i)\n","location":"line 66, col 1 to line 71, col 38 of module consensus_wo_decide","operatorName":"Next","type":"State"},{"concreteContent":"TypeOK == \n    /\\ vote_request_msg \\in [Node \\X Node -> BOOLEAN]\n    /\\ voted \\in [Node -> BOOLEAN]\n    /\\ vote_msg \\in [Node \\X Node -> BOOLEAN]\n    /\\ votes \\in [Node \\X Node -> BOOLEAN]\n    /\\ leader \\in [Node -> BOOLEAN]\n    /\\ voting_quorum \\in Quorums\n","location":"line 73, col 1 to line 79, col 32 of module consensus_wo_decide","operatorName":"TypeOK","type":"State"},{"concreteContent":"TypeOKRandom ==\n    /\\ vote_request_msg \\in RandomSubset(25, [Node \\X Node -> BOOLEAN])\n    /\\ voted \\in RandomSubset(6, [Node -> BOOLEAN])\n    /\\ vote_msg \\in RandomSubset(25, [Node \\X Node -> BOOLEAN])\n    /\\ votes \\in RandomSubset(25, [Node \\X Node -> BOOLEAN])\n    /\\ leader \\in RandomSubset(6, [Node -> BOOLEAN])\n    /\\ voting_quorum \\in RandomSubset(4, Quorums)\n","location":"line 81, col 1 to line 87, col 49 of module consensus_wo_decide","operatorName":"TypeOKRandom","type":"State"},{"concreteContent":"Safety == \\A i,j \\in Node : (leader[i] /\\ leader[j]) => (i = j)","location":"line 89, col 1 to line 89, col 63 of module consensus_wo_decide","operatorName":"Safety","type":"State"},{"concreteContent":"NoLeader == ~\\E i \\in Node : leader[i]","location":"line 91, col 1 to line 91, col 38 of module consensus_wo_decide","operatorName":"NoLeader","type":"State"},{"concreteContent":"Symmetry == Permutations(Node)","location":"line 93, col 1 to line 93, col 30 of module consensus_wo_decide","operatorName":"Symmetry","type":"State"},{"concreteContent":"NextUnchanged == UNCHANGED <<vote_request_msg,voted,vote_msg,votes,leader,voting_quorum>>","location":"line 95, col 1 to line 95, col 89 of module consensus_wo_decide","operatorName":"NextUnchanged","type":"State"},{"concreteContent":"A1 == \\A n,n1 \\in Node : votes[<<n,n1>>] => vote_msg[<<n1,n>>]","location":"line 102, col 1 to line 102, col 62 of module consensus_wo_decide","operatorName":"A1","type":"State"},{"concreteContent":"A2 == \n    \\A n,n1,n2 \\in Node : \n        vote_msg[<<n,n1>>] /\\ vote_msg[<<n,n2>>] => n1=n2\n","location":"line 105, col 1 to line 107, col 57 of module consensus_wo_decide","operatorName":"A2","type":"State"},{"concreteContent":"A3 == \\A n,n1 \\in Node : vote_msg[<<n,n1>>] => voted[n]","location":"line 110, col 1 to line 110, col 55 of module consensus_wo_decide","operatorName":"A3","type":"State"},{"concreteContent":"A4 == \\A n,n1 \\in Node: (leader[n] /\\ n1 \\in voting_quorum) => votes[<<n,n1>>]","location":"line 113, col 1 to line 113, col 78 of module consensus_wo_decide","operatorName":"A4","type":"State"},{"concreteContent":"IndHuman == \n    /\\ Safety\n    /\\ A1\n    /\\ A2\n    /\\ A3\n    /\\ A4\n","location":"line 116, col 1 to line 121, col 9 of module consensus_wo_decide","operatorName":"IndHuman","type":"State"},{"concreteContent":"Ind == \n    /\\ Safety\n","location":"line 123, col 1 to line 124, col 13 of module consensus_wo_decide","operatorName":"Ind","type":"State"},{"concreteContent":"IInit ==\n    /\\ TypeOKRandom\n    /\\ Ind\n","location":"line 126, col 1 to line 128, col 10 of module consensus_wo_decide","operatorName":"IInit","type":"State"}]}}