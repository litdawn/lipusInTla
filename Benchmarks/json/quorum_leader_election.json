{"location":"line 1, col 1 to line 47, col 4 of module quorum_leader_election","moduleInfo":{"location":"line 1, col 1 to line 1, col 39 of module quorum_leader_election","moduleName":"quorum_leader_election"},"extends":{"extendedModuleNames":["TLC","Naturals","FiniteSets"],"location":"line 4, col 1 to line 4, col 33 of module quorum_leader_election"},"body":{"declaredParams":[{"location":"line 6, col 1 to line 6, col 13 of module quorum_leader_election","paramName":"Node"},{"location":"line 7, col 1 to line 7, col 12 of module quorum_leader_election","paramName":"Nil"}],"definedVariables":[{"variableName":"isleader"},{"variableName":"voted"}],"location":"line 6, col 1 to line 45, col 31 of module quorum_leader_election","operatorDefinitions":[{"concreteContent":"vars == <<isleader, voted>>","location":"line 12, col 1 to line 12, col 27 of module quorum_leader_election","operatorName":"vars","type":"State"},{"concreteContent":"Quorums == {i \\in SUBSET(Node) : Cardinality(i) * 2 > Cardinality(Node)}","location":"line 15, col 1 to line 15, col 72 of module quorum_leader_election","operatorName":"Quorums","type":"State"},{"concreteContent":"Vote(i,j) == \n    /\\ voted[i] = Nil\n    /\\ voted' = [voted EXCEPT ![i]=j]\n    /\\ UNCHANGED isleader\n","location":"line 18, col 1 to line 21, col 25 of module quorum_leader_election","operatorName":"Vote","paramNum":2,"type":"Action"},{"concreteContent":"BecomeLeader(i,Q) == \n    \\* All nodes in the quorum must have voted for 'i'.\n    /\\ \\A v \\in Q : voted[v] = i\n    /\\ isleader' = [isleader EXCEPT ![i] = TRUE]\n    /\\ UNCHANGED voted\n","location":"line 24, col 1 to line 28, col 22 of module quorum_leader_election","operatorName":"BecomeLeader","paramNum":2,"type":"Action"},{"concreteContent":"Init == \n    /\\ isleader = [n \\in Node |-> FALSE]\n    /\\ voted = [n \\in Node |-> Nil]\n","location":"line 30, col 1 to line 32, col 35 of module quorum_leader_election","operatorName":"Init","type":"State"},{"concreteContent":"Next ==\n    \\/ \\E i,j \\in Node : Vote(i,j) \n    \\/ \\E i \\in Node : \\E Q \\in Quorums : BecomeLeader(i, Q)\n","location":"line 34, col 1 to line 36, col 60 of module quorum_leader_election","operatorName":"Next","type":"State"},{"concreteContent":"Inv == \\A i,j \\in Node : (isleader[i] /\\ isleader[j]) => (i=j)","location":"line 39, col 1 to line 39, col 62 of module quorum_leader_election","operatorName":"Inv","type":"State"},{"concreteContent":"TypeOK ==\n    /\\ isleader \\in [Node -> BOOLEAN]\n    /\\ voted \\in [Node -> Node \\cup {Nil}]\n","location":"line 41, col 1 to line 43, col 42 of module quorum_leader_election","operatorName":"TypeOK","type":"State"},{"concreteContent":"NextUnchanged == UNCHANGED vars","location":"line 45, col 1 to line 45, col 31 of module quorum_leader_election","operatorName":"NextUnchanged","type":"State"}]}}